(this["webpackJsonpweather-watch"]=this["webpackJsonpweather-watch"]||[]).push([[0],{56:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(17),r=n.n(i),s=(n(56),n(23)),o=n(43),h=n(51),l=n(50),d=n(44),j=n.n(d),u=function e(){var t=this;Object(s.a)(this,e),this.status=function(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))},this.fetchWeatherApi=function(e){return"London"===e?t.getRequest("https://api.openweathermap.org/data/2.5/onecall?lat=51.5074&lon=0.1278&units=metric&exclude=hourly,minutely&appid=ed18e45826554b0f52007a1992b575df"):"Sheffield"===e?t.getRequest("https://api.openweathermap.org/data/2.5/onecall?lat=53.3811&lon=1.4701&units=metric&exclude=hourly,minutely&appid=ed18e45826554b0f52007a1992b575df"):"Luton"===e?t.getRequest("https://api.openweathermap.org/data/2.5/onecall?lat=51.8787&lon=0.4200&units=metric&exclude=hourly,minutely&appid=ed18e45826554b0f52007a1992b575df"):void alert("That location is not supported.")},this.getRequest=function(e){return j.a.get(e).then(t.status).catch((function(e){console.error(e),alert(e)}))}},b=n(28),p=n(1),x=function(e){var t,n=new Date(1e3*parseInt(e.date)).toLocaleDateString("en-GB",{weekday:"short"}),a=(t=new Date(1e3*parseInt(e.date)).toLocaleDateString("en-GB",{day:"numeric"})).toString().match(/.*[1]$/g)?"".concat(t,"st"):t.toString().match(/.*[2]$/g)?"".concat(t,"nd"):t.toString().match(/.*[3]$/g)?"".concat(t,"rd"):"".concat(t,"th"),c=new Date(1e3*parseInt(e.date)).toLocaleDateString("en-GB",{month:"short"}),i="http://openweathermap.org/img/wn/".concat(e.icon,"@2x.png"),r=e.description,s=e.minTemp,o=e.maxTemp,h=e.humidity,l=e.windSpeed,d=new Date(1e3*parseInt(e.sunrise)).toLocaleTimeString(),j=new Date(1e3*parseInt(e.sunset)).toLocaleTimeString();return Object(p.jsx)("div",{children:Object(p.jsxs)(b.a,{className:"pt-5 pt-md-0",style:{width:"250px",minHeight:"500px",textAlign:"center",marginTop:"100px",border:"5px solid white",borderRadius:"10px"},children:[Object(p.jsx)(b.a.Header,{className:"bg-primary",children:Object(p.jsxs)("h3",{children:[n," ",a," ",c]})}),Object(p.jsxs)(b.a.Body,{className:"justify-content-center",style:{backgroundColor:"lightblue"},children:[Object(p.jsxs)("p",{style:{textTransform:"capitalize"},children:[Object(p.jsx)("img",{src:i,alt:r}),Object(p.jsx)("br",{}),r]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Min Temp: "}),s,"\xb0C"]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Max Temp: "}),o,"\xb0C"]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Humidity: "}),h,"%"]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Wind Speed: "}),l,"mph"]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Sunrise: "}),d]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Sunset: "}),j]})]})]})})},m=n(22),O=n(49),g=n(48),f=n(45),y=n(21),w=n(46),S=(n(76),n(19)),v=n.n(S),L=n(20),C=n(6),W=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).createCards=function(){return a.state.dailyWeather.slice(0,7).map((function(e,t){return Object(p.jsx)(f.a,{children:Object(p.jsx)(w.a,{children:Object(p.jsx)(x,{date:e.dt,icon:e.weather[0].icon,description:e.weather[0].description,minTemp:e.temp.min,maxTemp:e.temp.max,humidity:e.humidity,windSpeed:e.wind_speed,sunrise:e.sunrise,sunset:e.sunset})})},t)}))},a.changeLocation=function(e){a.setState({location:e},(function(){a.getWeather()}))},a.getWeather=function(){a.setState({loadState:"Loading weather...",fetching:!0}),a.apiClient.fetchWeatherApi(a.state.location).then((function(e){a.updateWeather(e.data)})).finally((function(){a.setState({loadState:""})}))},a.updateWeather=function(e){a.setState({currentWeather:e.current,dailyWeather:e.daily})},a.componentDidMount=function(){a.getWeather()},a.state={location:"Luton",currentWeather:[],dailyWeather:[],loadState:""},a.apiClient=new u,a}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsxs)(L.a,{children:[Object(p.jsxs)(m.a,{bg:"dark",variant:"dark",children:[Object(p.jsx)(m.a.Brand,{children:"Weather Watch"}),Object(p.jsx)(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(p.jsx)(m.a.Collapse,{id:"basic-navbar-nav",children:Object(p.jsxs)(O.a,{className:"mr-auto",children:[Object(p.jsx)(L.b,{to:"/Luton",className:"nav-link text-danger",onClick:function(){return e.changeLocation("Luton")},children:"Luton"}),Object(p.jsx)(L.b,{to:"/London",className:"nav-link text-danger",onClick:function(){return e.changeLocation("London")},children:"London"}),Object(p.jsx)(L.b,{to:"/Sheffield",className:"nav-link text-danger",onClick:function(){return e.changeLocation("Sheffield")},children:"Sheffield"})]})})]}),Object(p.jsx)(g.a,{children:Object(p.jsxs)(C.c,{children:[Object(p.jsxs)(C.a,{path:"/Luton",children:[Object(p.jsx)("div",{className:"header",children:Object(p.jsxs)("h1",{style:{textAlign:"center",marginTop:"20px"},children:[this.state.location," ",Object(p.jsxs)("span",{className:"header-info",children:["(currently"," ",this.state.currentWeather.temp,"\xb0C)"]})]})}),Object(p.jsx)(y.a,{children:Object(p.jsx)(v.a,{disable_box_shadow:!0,children:this.createCards()})})]}),Object(p.jsxs)(C.a,{path:"/London",children:[Object(p.jsx)("div",{id:"header",children:Object(p.jsxs)("h1",{style:{textAlign:"center",marginTop:"20px"},children:[this.state.location," ",Object(p.jsxs)("span",{style:{fontWeight:"normal",fontSize:"2rem"},children:["(currently"," ",this.state.currentWeather.temp,"\xb0C)"]})]})}),Object(p.jsx)(y.a,{children:Object(p.jsx)(v.a,{disable_box_shadow:!0,children:this.createCards()})})]}),Object(p.jsxs)(C.a,{path:"/Sheffield",children:[Object(p.jsx)("div",{id:"header",children:Object(p.jsxs)("h1",{style:{textAlign:"center",marginTop:"20px"},children:[this.state.location," ",Object(p.jsxs)("span",{style:{fontWeight:"normal",fontSize:"2rem"},children:["(currently"," ",this.state.currentWeather.temp,"\xb0C)"]})]})}),Object(p.jsx)(y.a,{children:Object(p.jsx)(v.a,{disable_box_shadow:!0,children:this.createCards()})})]}),Object(p.jsxs)(C.a,{exact:!0,path:"/",children:[Object(p.jsx)("div",{id:"header",children:Object(p.jsxs)("h1",{style:{textAlign:"center",marginTop:"20px"},children:[this.state.location," ",Object(p.jsxs)("span",{style:{fontWeight:"normal",fontSize:"2rem"},children:["(currently"," ",this.state.currentWeather.temp,"\xb0C)"]})]})}),Object(p.jsx)(y.a,{children:Object(p.jsx)(v.a,{disable_box_shadow:!0,children:this.createCards()})})]}),Object(p.jsx)(C.a,{path:"/",children:"That location is not supported."})]})})]})}}]),n}(c.a.Component),T=(n(88),function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(W,{})})}),k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(T,{})}),document.getElementById("root")),k()}},[[89,1,2]]]);
//# sourceMappingURL=main.0dcbcdee.chunk.js.map