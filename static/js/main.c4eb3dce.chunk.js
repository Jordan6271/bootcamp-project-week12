(this["webpackJsonpweather-watch"]=this["webpackJsonpweather-watch"]||[]).push([[0],{56:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(17),r=n.n(i),s=(n(56),n(23)),o=n(43),h=n(51),l=n(50),d=n(44),j=n.n(d),u=function e(){var t=this;Object(s.a)(this,e),this.status=function(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))},this.fetchWeatherApi=function(e){return"London"===e?t.getRequest("https://api.openweathermap.org/data/2.5/onecall?lat=51.5074&lon=0.1278&units=metric&exclude=hourly,minutely&appid=ed18e45826554b0f52007a1992b575df"):"Sheffield"===e?t.getRequest("https://api.openweathermap.org/data/2.5/onecall?lat=53.3811&lon=1.4701&units=metric&exclude=hourly,minutely&appid=ed18e45826554b0f52007a1992b575df"):"Luton"===e?t.getRequest("https://api.openweathermap.org/data/2.5/onecall?lat=51.8787&lon=0.4200&units=metric&exclude=hourly,minutely&appid=ed18e45826554b0f52007a1992b575df"):void alert("That location is not supported.")},this.getRequest=function(e){return j.a.get(e).then(t.status).catch((function(e){console.error(e),alert(e)}))}},b=n(28),p=["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"],x=["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"],m=n(1),O=function(e){var t=new Date(1e3*parseInt(e.date)),n=p[t.getDay(t)],a=x[t.getMonth(t)],c=function(e){return e.toString().match(/.*[1]$/g)?"".concat(e,"st"):e.toString().match(/.*[2]$/g)?"".concat(e,"nd"):e.toString().match(/.*[3]$/g)?"".concat(e,"rd"):"".concat(e,"th")}(t.getDate(t)),i="http://openweathermap.org/img/wn/".concat(e.icon,"@2x.png"),r=e.description,s=e.minTemp,o=e.maxTemp,h=e.humidity,l=e.windSpeed,d=new Date(1e3*parseInt(e.sunrise)).toLocaleTimeString(),j=new Date(1e3*parseInt(e.sunset)).toLocaleTimeString();return Object(m.jsx)("div",{children:Object(m.jsxs)(b.a,{className:"pt-5 pt-md-0",style:{width:"250px",minHeight:"500px",textAlign:"center",marginTop:"100px",border:"5px solid white",borderRadius:"10px"},children:[Object(m.jsx)(b.a.Header,{className:"bg-primary",children:Object(m.jsxs)("h3",{children:[n," ",c," ",a]})}),Object(m.jsxs)(b.a.Body,{className:"justify-content-center",style:{backgroundColor:"lightblue"},children:[Object(m.jsxs)("p",{style:{textTransform:"capitalize"},children:[Object(m.jsx)("img",{src:i,alt:r}),Object(m.jsx)("br",{}),r]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Min Temp: "}),s,"\xb0C"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Max Temp: "}),o,"\xb0C"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Humidity: "}),h,"%"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Wind Speed: "}),l,"mph"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Sunrise: "}),d]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Sunset: "}),j]})]})]})})},g=n(22),f=n(49),y=n(48),S=n(45),w=n(21),v=n(46),W=(n(76),n(19)),C=n.n(W),T=n(20),L=n(6),k=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).createCards=function(){return a.state.dailyWeather.slice(0,7).map((function(e,t){return Object(m.jsx)(S.a,{children:Object(m.jsx)(v.a,{children:Object(m.jsx)(O,{date:e.dt,icon:e.weather[0].icon,description:e.weather[0].description,minTemp:e.temp.min,maxTemp:e.temp.max,humidity:e.humidity,windSpeed:e.wind_speed,sunrise:e.sunrise,sunset:e.sunset})})},t)}))},a.changeLocation=function(e){a.setState({location:e},(function(){a.getWeather()}))},a.getWeather=function(){a.setState({loadState:"Loading weather...",fetching:!0}),a.apiClient.fetchWeatherApi(a.state.location).then((function(e){a.updateWeather(e.data)})).finally((function(){a.setState({loadState:""})}))},a.updateWeather=function(e){a.setState({currentWeather:e.current,dailyWeather:e.daily})},a.componentDidMount=function(){a.getWeather()},a.state={location:"Luton",currentWeather:[],dailyWeather:[],loadState:""},a.apiClient=new u,a}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsxs)(T.a,{children:[Object(m.jsxs)(g.a,{bg:"dark",variant:"dark",children:[Object(m.jsx)(g.a.Brand,{children:"Weather Watch"}),Object(m.jsx)(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(m.jsx)(g.a.Collapse,{id:"basic-navbar-nav",children:Object(m.jsxs)(f.a,{className:"mr-auto",children:[Object(m.jsx)(T.b,{to:"/Luton",className:"nav-link text-danger",onClick:function(){return e.changeLocation("Luton")},children:"Luton"}),Object(m.jsx)(T.b,{to:"/London",className:"nav-link text-danger",onClick:function(){return e.changeLocation("London")},children:"London"}),Object(m.jsx)(T.b,{to:"/Sheffield",className:"nav-link text-danger",onClick:function(){return e.changeLocation("Sheffield")},children:"Sheffield"})]})})]}),Object(m.jsx)(y.a,{children:Object(m.jsxs)(L.c,{children:[Object(m.jsxs)(L.a,{path:"/Luton",children:[Object(m.jsx)("div",{className:"header",children:Object(m.jsxs)("h1",{style:{textAlign:"center",marginTop:"20px"},children:[this.state.location," ",Object(m.jsxs)("span",{className:"header-info",children:["(currently"," ",this.state.currentWeather.temp,"\xb0C)"]})]})}),Object(m.jsx)(w.a,{children:Object(m.jsx)(C.a,{disable_box_shadow:!0,children:this.createCards()})})]}),Object(m.jsxs)(L.a,{path:"/London",children:[Object(m.jsx)("div",{id:"header",children:Object(m.jsxs)("h1",{style:{textAlign:"center",marginTop:"20px"},children:[this.state.location," ",Object(m.jsxs)("span",{style:{fontWeight:"normal",fontSize:"2rem"},children:["(currently"," ",this.state.currentWeather.temp,"\xb0C)"]})]})}),Object(m.jsx)(w.a,{children:Object(m.jsx)(C.a,{disable_box_shadow:!0,children:this.createCards()})})]}),Object(m.jsxs)(L.a,{path:"/Sheffield",children:[Object(m.jsx)("div",{id:"header",children:Object(m.jsxs)("h1",{style:{textAlign:"center",marginTop:"20px"},children:[this.state.location," ",Object(m.jsxs)("span",{style:{fontWeight:"normal",fontSize:"2rem"},children:["(currently"," ",this.state.currentWeather.temp,"\xb0C)"]})]})}),Object(m.jsx)(w.a,{children:Object(m.jsx)(C.a,{disable_box_shadow:!0,children:this.createCards()})})]}),Object(m.jsxs)(L.a,{exact:!0,path:"/",children:[Object(m.jsx)("div",{id:"header",children:Object(m.jsxs)("h1",{style:{textAlign:"center",marginTop:"20px"},children:[this.state.location," ",Object(m.jsxs)("span",{style:{fontWeight:"normal",fontSize:"2rem"},children:["(currently"," ",this.state.currentWeather.temp,"\xb0C)"]})]})}),Object(m.jsx)(w.a,{children:Object(m.jsx)(C.a,{disable_box_shadow:!0,children:this.createCards()})})]}),Object(m.jsx)(L.a,{path:"/",children:"That location is not supported."})]})})]})}}]),n}(c.a.Component),N=(n(88),function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(k,{})})}),A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root")),A()}},[[89,1,2]]]);
//# sourceMappingURL=main.c4eb3dce.chunk.js.map